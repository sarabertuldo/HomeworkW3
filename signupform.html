<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>

    .alert {
        visibility: hidden;
        font-size: 10px;
        padding: 0.1rem;
        border-radius: 0px 0px 0.25rem 0.25rem;
    }

    .invalid .alert {
        visibility: visible;
    }

    .invalid input, .invalid select {
        border-radius: 0.25rem 0.25rem 0px 0px;
    }

    form {
        width: 65%;
        margin: auto;
        text-align: center;
        font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif
    }

    .visible {
        visibility: visible;
    }

    </style>
  </head>
  <body>
    <!-- username text 8-16 password
    password 10-20 characters
    radio select options
    select dropdown box for state
    submit button
    boxes underneath to show error for each input
    messages for certain parameters (Must contain x characters)
    submit message should log form values
    display: none, display: hidden-->
    <form>
        <h1>It's a Sign Up Form, My Dudes</h1>
        <div class="alert" id="errorMain">Well, ain't that cute, but it's WRONG</div>
    <label for="username" id="username">Handle</label>
    <input type="text" placeholder="Chunkylover53" id="userInput">
    <div class="alert alert-danger">Username must be 8 to 16 characters.</div>

    <p><label for="password" id="password">Secret</label>
    <input type="password" id="passwordInput"></input></p>
    <div class="alert alert-danger">Password must be 10 to 20 characters.</div>

    <p><div id="starburstInput"><label for="starburst">Starburst Flavor</label><br />
    <input name="starburst" id="star1" type="radio">Strawberry
    <input name="starburst" id="star2" type="radio">Orange
    <input name="starburst" id="star3" type="radio">Lemon
    <input name="starburst" id="star4" type="radio">Cherry</div></p>

    <p><div id="lunchTable"><label for="affiliation">Lunch Table Section<br />
        <select id="affiliation">
            <option value="brainiac">Brainiacs</option>
            <option value="burnout">Burnouts</option>
            <option value="dramaKid">Drama Kids</option>
            <option value="geek">Geeks</option>
            <option value="goth">Goths</option>
            <option value="greaser">Greasers</option>
            <option value="jock">Jocks</option>
            <option value="popular">Popular</option>
            <option value="punk">Punks</option>
            <option value="studentCouncil">Student Council</option>
            <option value="other">Other</option>
        </select>
    </label></div></p>

    <br /><button id="submit" type="submit">Submit</button>
    </form>
    <script>
    // let input = document.getElementById("username");
    let userInput = document.getElementById("usernameInput");
    let passwordInput = document.getElementById("passwordInput");
    let starburstInput = document.getElementById("starburstInput");
    let lunchTableInput = document.getElementById("lunchTableInput");
    let username = document.getElementById("username");
    let password = document.getElementById("password");
    let lunchTable = document.getElementById("lunchTable");
    let starburst = document.getElementById("starburst");
    let errorCont = document.getElementById("errorMain");
    let contactValue = null;
    // let val = input.value;

    let errors = {
        starburst: true,
        lunchTable: true,
        username: true,
        password: true,
    }

    document.getElementsByName("starburst").forEach(v => v.addEventListener("click", (e)=> {
        errors.starburst = false;
        starburstValue = e.target.value;
        starburstInput.classList.remove("invalid")
    }))

    document.getElementById("submit").addEventListener("click", (e)=> {
        e.preventDefault();
        setErrors();

        if(errors.starburst || errors.lunchTable || errors.username || errors.password) {
            errorCont.classList.add("visible");
        }
        else {
            errorCont.classList.remove("visible");
            console.log({
              starburst: starburst.value,
              username: username.value,  
            })
        }
    })

    document
    .getElementById("username")
    .addEventListener("blur", (e) => {
        console.log(e.target.value)
        if (e.target.value.length < 8 || e.target.value.length > 16 ) {
            console.log(e.target.value.length)
            errors.username = true;
            userInput.classList.add("invalid")
    } else {
            errors.username = false;
            userInput.classList.remove("invalid")
    }
})

    document
    .getElementById("password")
    .addEventListener("blur", (e) => {
        if (e.target.value.length < 10 || e.target.value.length > 20) {
            errors.password = true;
            passwordInput.classList.add("invalid")
        } else {
            errors.password = false;
            passwordInput.classList.add("invalid")
        }
    })


    document
    .getElementById("lunchTable")
    .addEventListener("change", (e) => {
        if (e.target.value.length === "") {
            lunchTableInput.classList.add("invalid")
            errors.lunchTable = true;
        }
        else {
            lunchTableInput.classList.remove("invalid")
        }
    })


    document
    .getElementById("password")
    .addEventListener("blur", (e) => {
        if (e.target.value.length < 10 || e.target.value.length > 20) {
            errors.password = true;
            passwordInput.classList.add("invalid")
        } else {
            errors.password = false;
            passwordInput.classList.add("invalid")
        }
    })


    function setErrors() {
        if(errors.username){
            userInput.classList.add("invalid")
        }
        if(errors.password){
            passwordInput.classList.add("invalid");
        }
        if(errors.starburst){
            starburstInput.classList.add("invalid");
        }
    }


    // object.addEventListener("load", myScript;)
    
    </script>
  </body>
</html>
